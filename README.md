A Linux USB composite device driver example, contains a USB Ethernet and customized Gadget configurations.
